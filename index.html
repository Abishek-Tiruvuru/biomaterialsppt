<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iron-Carbon Phase Diagram | Corrected</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2c3e50;
            --primary-light: #34495e;
            --primary-lighter: #506278;
            --primary-dark: #1a252f;
            --bg: #f8f9fa;
            --card: #ffffff;
            --text: #2c3e50;
            --text-light: #7f8c8d;
            --border: #e0e0e0;
            --accent: #95a5a6;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            padding: 60px 20px;
            background: var(--card);
            border-radius: 16px;
            margin-bottom: 40px;
            box-shadow: 0 2px 20px rgba(44, 62, 80, 0.08);
        }

        h1 {
            font-size: 3em;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 16px;
            letter-spacing: -1px;
        }

        .subtitle {
            font-size: 1.3em;
            color: var(--text-light);
            font-weight: 400;
        }

        .section {
            background: var(--card);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 2px 20px rgba(44, 62, 80, 0.08);
            opacity: 0;
            animation: fadeIn 0.6s ease-out forwards;
        }

        .section:nth-child(2) { animation-delay: 0.1s; }
        .section:nth-child(3) { animation-delay: 0.2s; }
        .section:nth-child(4) { animation-delay: 0.3s; }
        .section:nth-child(5) { animation-delay: 0.4s; }
        .section:nth-child(6) { animation-delay: 0.5s; }

        h2 {
            font-size: 2em;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 3px solid var(--primary);
        }

        h3 {
            font-size: 1.5em;
            font-weight: 600;
            color: var(--primary-light);
            margin: 30px 0 16px 0;
        }

        p {
            font-size: 1.15em;
            line-height: 1.8;
            color: var(--text);
            margin-bottom: 16px;
        }

        .simple-box {
            background: var(--bg);
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
            border-left: 4px solid var(--primary);
        }

        .simple-box p {
            margin-bottom: 8px;
        }

        .diagram-wrapper {
            background: var(--card);
            padding: 40px 20px;
            border-radius: 16px;
            margin: 30px 0;
            box-shadow: 0 4px 30px rgba(44, 62, 80, 0.1);
        }

        .phase-diagram {
            width: 100%;
            max-width: 1100px;
            margin: 0 auto;
            aspect-ratio: 16/10;
        }

        .diagram-label {
            font-family: 'Inter', sans-serif;
            font-size: 13px;
            font-weight: 600;
            fill: var(--primary);
        }

        .region-label {
            font-family: 'Inter', sans-serif;
            font-size: 15px;
            font-weight: 600;
        }

        .phase-area {
            transition: opacity 0.3s ease;
            cursor: pointer;
        }

        .phase-area:hover {
            opacity: 0.8;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin: 30px 0;
        }

        .card {
            background: var(--bg);
            padding: 28px;
            border-radius: 12px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: var(--primary);
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(44, 62, 80, 0.12);
        }

        .card h4 {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .card p {
            font-size: 1.05em;
            color: var(--text-light);
            margin-bottom: 8px;
        }

        .card strong {
            color: var(--primary);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 24px 0;
        }

        th {
            background: var(--primary);
            color: white;
            padding: 16px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 16px;
            border-bottom: 1px solid var(--border);
        }

        tr:hover {
            background: var(--bg);
        }

        ul {
            list-style: none;
            padding: 0;
        }

        ul li {
            padding: 12px 0 12px 32px;
            position: relative;
            font-size: 1.1em;
        }

        ul li::before {
            content: '●';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-size: 1.2em;
        }

        .reaction-box {
            background: var(--primary);
            color: white;
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
            font-size: 1.3em;
            text-align: center;
            font-weight: 600;
        }

        .reaction-box small {
            display: block;
            margin-top: 8px;
            font-size: 0.8em;
            opacity: 0.9;
            font-weight: 400;
        }

        .highlight {
            background: var(--primary);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
        }

        .number-badge {
            display: inline-block;
            background: var(--primary);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            text-align: center;
            line-height: 32px;
            font-weight: 700;
            margin-right: 12px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-light);
            font-size: 1em;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .section {
                padding: 24px;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }
        }

        .tooltip {
            position: absolute;
            background: var(--primary-dark);
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.9em;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 1000;
            white-space: nowrap;
        }

        .diagram-note {
            text-align: center;
            font-size: 0.95em;
            color: var(--text-light);
            margin-top: 16px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Iron-Carbon Phase Diagram</h1>
            <p class="subtitle">Corrected & Accurate Version</p>
        </header>

        <div class="section">
            <h2>What is This Diagram?</h2>
            <p>The Iron-Carbon Phase Diagram is like a <strong>map</strong> that shows what happens to iron when you:</p>
            <ul>
                <li>Add different amounts of carbon (0% to 6.67%)</li>
                <li>Change the temperature (from room temp to 1600°C)</li>
            </ul>
            
            <div class="simple-box">
                <p><strong>Think of it this way:</strong></p>
                <p>Just like water can be ice, liquid, or steam depending on temperature, iron can be different "phases" depending on temperature AND carbon content.</p>
            </div>
        </div>

        <div class="section">
            <h2>The Phase Diagram (Corrected)</h2>
            
            <div class="diagram-wrapper">
                <svg class="phase-diagram" viewBox="0 0 1100 650">
                    <!-- Background grid -->
                    <defs>
                        <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                            <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#e0e0e0" stroke-width="1" opacity="0.3"/>
                        </pattern>
                    </defs>
                    <rect width="1100" height="650" fill="url(#grid)"/>

                    <!-- Main axes -->
                    <line x1="150" y1="550" x2="1000" y2="550" stroke="#2c3e50" stroke-width="4"/>
                    <line x1="150" y1="550" x2="150" y2="50" stroke="#2c3e50" stroke-width="4"/>

                    <!-- PHASE REGIONS (corrected boundaries) -->
                    
                    <!-- Liquid -->
                    <path d="M 150 50 L 240 50 L 580 150 L 800 120 L 1000 120 L 1000 50 Z" 
                          fill="#fff9c4" opacity="0.85" class="phase-area"/>
                    
                    <!-- δ-Ferrite + Liquid -->
                    <path d="M 150 50 L 150 200 L 215 200 L 240 50 Z" 
                          fill="#b3e5fc" opacity="0.75" class="phase-area"/>
                    
                    <!-- Austenite (γ) - main region -->
                    <path d="M 215 200 L 235 330 L 485 420 L 800 300 L 800 120 L 580 150 L 240 50 Z" 
                          fill="#ff8a80" opacity="0.7" class="phase-area"/>
                    
                    <!-- α-Ferrite + Austenite -->
                    <path d="M 150 200 L 150 420 L 235 420 L 235 330 L 215 200 Z" 
                          fill="#90caf9" opacity="0.75" class="phase-area"/>
                    
                    <!-- α-Ferrite + Fe₃C (Pearlite region) -->
                    <path d="M 150 420 L 150 550 L 485 550 L 485 420 L 235 420 Z" 
                          fill="#64b5f6" opacity="0.75" class="phase-area"/>
                    
                    <!-- Austenite + Fe₃C -->
                    <path d="M 485 420 L 485 550 L 920 550 L 920 300 L 800 300 Z" 
                          fill="#ffb74d" opacity="0.75" class="phase-area"/>
                    
                    <!-- γ + Liquid -->
                    <path d="M 580 150 L 800 120 L 800 300 Z" 
                          fill="#ffcc80" opacity="0.75" class="phase-area"/>
                    
                    <!-- Fe₃C (Cementite) -->
                    <path d="M 920 300 L 920 550 L 1000 550 L 1000 120 L 800 120 L 800 300 Z" 
                          fill="#757575" opacity="0.8" class="phase-area"/>

                    <!-- PHASE BOUNDARY LINES (accurate positions) -->
                    
                    <!-- A3 line (γ to α boundary) -->
                    <polyline points="150,330 235,420" 
                              stroke="#1976d2" stroke-width="2.5" fill="none" stroke-dasharray="5,3"/>
                    
                    <!-- Acm line (γ to Fe₃C boundary) -->
                    <polyline points="485,420 920,230" 
                              stroke="#f57c00" stroke-width="2.5" fill="none" stroke-dasharray="5,3"/>
                    
                    <!-- Eutectoid line (A1) - HORIZONTAL at 727°C -->
                    <line x1="150" y1="420" x2="920" y2="420" 
                          stroke="#c62828" stroke-width="4" stroke-dasharray="8,4"/>
                    
                    <!-- Eutectic line - HORIZONTAL at 1147°C -->
                    <line x1="580" y1="230" x2="1000" y2="230" 
                          stroke="#e65100" stroke-width="3" stroke-dasharray="6,3"/>
                    
                    <!-- Peritectic line -->
                    <line x1="150" y1="200" x2="240" y2="200" 
                          stroke="#1976d2" stroke-width="2.5" stroke-dasharray="4,2"/>
                    
                    <!-- Steel/Cast Iron boundary -->
                    <line x1="485" y1="50" x2="485" y2="550" 
                          stroke="#2e7d32" stroke-width="4" stroke-dasharray="10,5"/>

                    <!-- CRITICAL POINTS -->
                    
                    <!-- Peritectic point -->
                    <circle cx="215" cy="200" r="8" fill="#1976d2" stroke="white" stroke-width="3"/>
                    
                    <!-- Eutectoid point (MOST IMPORTANT) -->
                    <circle cx="485" cy="420" r="11" fill="#c62828" stroke="white" stroke-width="3"/>
                    
                    <!-- Eutectic point -->
                    <circle cx="800" cy="300" r="9" fill="#e65100" stroke="white" stroke-width="3"/>

                    <!-- TEMPERATURE LABELS (left axis) -->
                    <text x="130" y="555" class="diagram-label" text-anchor="end" font-weight="700">0°C</text>
                    <text x="130" y="490" class="diagram-label" text-anchor="end">200</text>
                    <text x="130" y="425" class="diagram-label" text-anchor="end" font-weight="700" fill="#c62828" font-size="14">727</text>
                    <text x="130" y="335" class="diagram-label" text-anchor="end" font-weight="700" fill="#0288d1">912</text>
                    <text x="130" y="270" class="diagram-label" text-anchor="end">1000</text>
                    <text x="130" y="235" class="diagram-label" text-anchor="end" font-weight="700" fill="#e65100">1147</text>
                    <text x="130" y="205" class="diagram-label" text-anchor="end" font-weight="700" fill="#1976d2">1493</text>
                    <text x="130" y="140" class="diagram-label" text-anchor="end">1400</text>
                    <text x="130" y="55" class="diagram-label" text-anchor="end" font-weight="700" fill="#d32f2f">1538</text>
                    
                    <!-- Y-axis label -->
                    <text x="50" y="300" class="diagram-label" text-anchor="middle" font-size="16" font-weight="700" 
                          transform="rotate(-90 50 300)">Temperature (°C)</text>

                    <!-- CARBON CONTENT LABELS (bottom axis) -->
                    <text x="150" y="580" class="diagram-label" text-anchor="middle" font-weight="700">0</text>
                    <line x1="150" y1="550" x2="150" y2="560" stroke="#2c3e50" stroke-width="3"/>
                    
                    <text x="275" y="580" class="diagram-label" text-anchor="middle">1</text>
                    <line x1="275" y1="550" x2="275" y2="558" stroke="#2c3e50" stroke-width="2"/>
                    
                    <text x="400" y="580" class="diagram-label" text-anchor="middle">2</text>
                    <line x1="400" y1="550" x2="400" y2="558" stroke="#2c3e50" stroke-width="2"/>
                    
                    <text x="485" y="580" class="diagram-label" text-anchor="middle" font-weight="700" fill="#2e7d32" font-size="14">2.14</text>
                    <line x1="485" y1="550" x2="485" y2="562" stroke="#2e7d32" stroke-width="3"/>
                    
                    <text x="570" y="580" class="diagram-label" text-anchor="middle">3</text>
                    <line x1="570" y1="550" x2="570" y2="558" stroke="#2c3e50" stroke-width="2"/>
                    
                    <text x="690" y="580" class="diagram-label" text-anchor="middle">4</text>
                    <line x1="690" y1="550" x2="690" y2="558" stroke="#2c3e50" stroke-width="2"/>
                    
                    <text x="800" y="580" class="diagram-label" text-anchor="middle" font-weight="700" fill="#e65100">4.3</text>
                    <line x1="800" y1="550" x2="800" y2="560" stroke="#e65100" stroke-width="3"/>
                    
                    <text x="920" y="580" class="diagram-label" text-anchor="middle" font-weight="700">6.67</text>
                    <line x1="920" y1="550" x2="920" y2="560" stroke="#2c3e50" stroke-width="3"/>
                    
                    <!-- X-axis label -->
                    <text x="575" y="620" class="diagram-label" font-size="16" text-anchor="middle" font-weight="700">
                        Carbon Content (wt %)
                    </text>

                    <!-- CRITICAL POINT LABELS (positioned to avoid overlap) -->
                    
                    <!-- Peritectic -->
                    <text x="215" y="185" class="diagram-label" text-anchor="middle" font-weight="700" fill="#1976d2">Peritectic</text>
                    <text x="215" y="175" class="diagram-label" text-anchor="middle" font-size="11" fill="#1976d2">0.16%C, 1493°C</text>
                    
                    <!-- Eutectoid (positioned above) -->
                    <text x="485" y="395" class="diagram-label" text-anchor="middle" font-weight="700" fill="#c62828" font-size="17">EUTECTOID</text>
                    <text x="485" y="383" class="diagram-label" text-anchor="middle" font-size="12" fill="#c62828">0.76%C, 727°C</text>
                    
                    <!-- Eutectic -->
                    <text x="800" y="285" class="diagram-label" text-anchor="middle" font-weight="700" fill="#e65100">Eutectic</text>
                    <text x="800" y="273" class="diagram-label" text-anchor="middle" font-size="11" fill="#e65100">4.3%C, 1147°C</text>

                    <!-- PHASE REGION LABELS (positioned clearly) -->
                    <text x="175" y="130" class="region-label" fill="#0277bd" font-weight="600">Liquid</text>
                    <text x="180" y="180" class="region-label" fill="#0277bd">δ+L</text>
                    <text x="170" y="520" class="region-label" fill="#1976d2" font-weight="600">α-Fe</text>
                    <text x="180" y="380" class="region-label" fill="#1976d2" font-size="13">α+γ</text>
                    <text x="380" y="260" class="region-label" fill="#c62828" font-weight="700" font-size="18">Austenite (γ)</text>
                    <text x="310" y="500" class="region-label" fill="#1565c0" font-weight="600">α + Fe₃C</text>
                    <text x="950" y="400" class="region-label" fill="#fff" font-weight="700">Fe₃C</text>
                    <text x="650" y="490" class="region-label" fill="#e65100" font-weight="600">γ + Fe₃C</text>
                    <text x="680" y="200" class="region-label" fill="#ff6f00">γ+L</text>

                    <!-- IMPORTANT TEMPERATURE LINE LABELS (right side) -->
                    <text x="1020" y="425" class="diagram-label" font-size="14" fill="#c62828" font-weight="700">727°C (A₁)</text>
                    <text x="1020" y="235" class="diagram-label" font-size="13" fill="#e65100" font-weight="600">1147°C</text>
                    
                    <!-- Steel vs Cast Iron labels -->
                    <text x="320" y="595" class="diagram-label" font-size="15" fill="#2e7d32" font-weight="700">← STEEL</text>
                    <text x="690" y="595" class="diagram-label" font-size="15" fill="#2e7d32" font-weight="700">CAST IRON →</text>
                </svg>
                <p class="diagram-note">Hover over colored regions to see phase names</p>
            </div>
        </div>

        <div class="section">
            <h2>The Main Phases (Corrected 3D Structures)</h2>

            <div class="card-grid">
                <div class="card">
                    <h4><span class="number-badge">1</span>Ferrite (α-iron)</h4>
                    
                    <!-- CORRECTED BCC Structure -->
                    <svg viewBox="0 0 300 300" style="width: 100%; height: 240px; margin: 15px 0;">
                        <defs>
                            <radialGradient id="atomBlue" cx="30%" cy="30%">
                                <stop offset="0%" style="stop-color:#90caf9;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#1976d2;stop-opacity:1" />
                            </radialGradient>
                            <radialGradient id="atomCenter" cx="30%" cy="30%">
                                <stop offset="0%" style="stop-color:#ef5350;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#c62828;stop-opacity:1" />
                            </radialGradient>
                        </defs>
                        
                        <!-- Back cube edges (lighter) -->
                        <line x1="70" y1="70" x2="150" y2="40" stroke="#90a4ae" stroke-width="2" opacity="0.4"/>
                        <line x1="150" y1="40" x2="230" y2="70" stroke="#90a4ae" stroke-width="2" opacity="0.4"/>
                        <line x1="230" y1="70" x2="230" y2="150" stroke="#90a4ae" stroke-width="2" opacity="0.4"/>
                        <line x1="230" y1="150" x2="150" y2="180" stroke="#90a4ae" stroke-width="2" opacity="0.4"/>
                        <line x1="150" y1="180" x2="70" y2="150" stroke="#90a4ae" stroke-width="2" opacity="0.4"/>
                        <line x1="70" y1="150" x2="70" y2="70" stroke="#90a4ae" stroke-width="2" opacity="0.4"/>
                        
                        <!-- Connecting edges -->
                        <line x1="70" y1="70" x2="85" y2="90" stroke="#546e7a" stroke-width="2.5"/>
                        <line x1="150" y1="40" x2="165" y2="60" stroke="#546e7a" stroke-width="2.5"/>
                        <line x1="230" y1="70" x2="215" y2="90" stroke="#546e7a" stroke-width="2.5"/>
                        <line x1="230" y1="150" x2="215" y2="170" stroke="#546e7a" stroke-width="2.5"/>
                        
                        <!-- Front cube edges (darker) -->
                        <line x1="85" y1="90" x2="165" y2="60" stroke="#37474f" stroke-width="3.5"/>
                        <line x1="165" y1="60" x2="215" y2="90" stroke="#37474f" stroke-width="3.5"/>
                        <line x1="215" y1="90" x2="215" y2="170" stroke="#37474f" stroke-width="3.5"/>
                        <line x1="215" y1="170" x2="165" y2="200" stroke="#37474f" stroke-width="3.5"/>
                        <line x1="165" y1="200" x2="85" y2="230" stroke="#37474f" stroke-width="3.5"/>
                        <line x1="85" y1="230" x2="85" y2="150" stroke="#37474f" stroke-width="3.5"/>
                        <line x1="85" y1="150" x2="85" y2="90" stroke="#37474f" stroke-width="3.5"/>
                        <line x1="85" y1="150" x2="165" y2="180" stroke="#37474f" stroke-width="3.5"/>
                        <line x1="165" y1="180" x2="215" y2="150" stroke="#37474f" stroke-width="3.5"/>
                        <line x1="215" y1="150" x2="215" y2="90" stroke="#37474f" stroke-width="3.5"/>
                        
                        <!-- 8 corner atoms (blue) -->
                        <circle cx="85" cy="90" r="11" fill="url(#atomBlue)" stroke="white" stroke-width="1"/>
                        <circle cx="165" cy="60" r="11" fill="url(#atomBlue)" stroke="white" stroke-width="1"/>
                        <circle cx="215" cy="90" r="11" fill="url(#atomBlue)" stroke="white" stroke-width="1"/>
                        <circle cx="215" cy="170" r="11" fill="url(#atomBlue)" stroke="white" stroke-width="1"/>
                        <circle cx="85" cy="150" r="11" fill="url(#atomBlue)" stroke="white" stroke-width="1"/>
                        <circle cx="165" cy="180" r="11" fill="url(#atomBlue)" stroke="white" stroke-width="1"/>
                        <circle cx="85" cy="230" r="11" fill="url(#atomBlue)" stroke="white" stroke-width="1"/>
                        <circle cx="165" cy="200" r="11" fill="url(#atomBlue)" stroke="white" stroke-width="1"/>
                        
                        <!-- 1 body center atom (red, larger) -->
                        <circle cx="150" cy="130" r="16" fill="url(#atomCenter)"/>
                        <text x="150" y="136" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Fe</text>
                        
                        <!-- Labels -->
                        <text x="150" y="260" font-size="18" font-weight="bold" fill="#1976d2" text-anchor="middle">BCC Structure</text>
                        <text x="150" y="280" font-size="13" fill="#666" text-anchor="middle">Body-Centered Cubic</text>
                    </svg>
                    
                    <div style="background: #e3f2fd; padding: 12px; border-radius: 8px; margin-top: 10px;">
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Atoms/cell:</strong> 2 (8×⅛ + 1)</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Packing factor:</strong> 68%</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Max C solubility:</strong> 0.022%</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Temperature:</strong> Below 912°C</p>
                    </div>
                    
                    <p style="margin-top: 10px;"><strong>Properties:</strong> Soft, ductile, magnetic (ferromagnetic)</p>
                </div>

                <div class="card">
                    <h4><span class="number-badge">2</span>Austenite (γ-iron)</h4>
                    
                    <!-- CORRECTED FCC Structure -->
                    <svg viewBox="0 0 300 300" style="width: 100%; height: 240px; margin: 15px 0;">
                        <defs>
                            <radialGradient id="atomRed2" cx="30%" cy="30%">
                                <stop offset="0%" style="stop-color:#ff9999;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#e57373;stop-opacity:1" />
                            </radialGradient>
                            <radialGradient id="atomYellow" cx="30%" cy="30%">
                                <stop offset="0%" style="stop-color:#fff59d;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#fbc02d;stop-opacity:1" />
                            </radialGradient>
                        </defs>
                        
                        <!-- Back cube edges -->
                        <line x1="70" y1="70" x2="150" y2="40" stroke="#ffab91" stroke-width="2" opacity="0.35"/>
                        <line x1="150" y1="40" x2="230" y2="70" stroke="#ffab91" stroke-width="2" opacity="0.35"/>
                        <line x1="230" y1="70" x2="230" y2="150" stroke="#ffab91" stroke-width="2" opacity="0.35"/>
                        <line x1="230" y1="150" x2="150" y2="180" stroke="#ffab91" stroke-width="2" opacity="0.35"/>
                        <line x1="150" y1="180" x2="70" y2="150" stroke="#ffab91" stroke-width="2" opacity="0.35"/>
                        <line x1="70" y1="150" x2="70" y2="70" stroke="#ffab91" stroke-width="2" opacity="0.35"/>
                        
                        <!-- Connecting edges -->
                        <line x1="70" y1="70" x2="85" y2="90" stroke="#d32f2f" stroke-width="2.5"/>
                        <line x1="150" y1="40" x2="165" y2="60" stroke="#d32f2f" stroke-width="2.5"/>
                        <line x1="230" y1="70" x2="215" y2="90" stroke="#d32f2f" stroke-width="2.5"/>
                        <line x1="230" y1="150" x2="215" y2="170" stroke="#d32f2f" stroke-width="2.5"/>
                        
                        <!-- Front cube edges -->
                        <line x1="85" y1="90" x2="165" y2="60" stroke="#c62828" stroke-width="3.5"/>
                        <line x1="165" y1="60" x2="215" y2="90" stroke="#c62828" stroke-width="3.5"/>
                        <line x1="215" y1="90" x2="215" y2="170" stroke="#c62828" stroke-width="3.5"/>
                        <line x1="215" y1="170" x2="165" y2="200" stroke="#c62828" stroke-width="3.5"/>
                        <line x1="165" y1="200" x2="85" y2="230" stroke="#c62828" stroke-width="3.5"/>
                        <line x1="85" y1="230" x2="85" y2="90" stroke="#c62828" stroke-width="3.5"/>
                        <line x1="85" y1="150" x2="165" y2="180" stroke="#c62828" stroke-width="3.5"/>
                        <line x1="165" y1="180" x2="215" y2="150" stroke="#c62828" stroke-width="3.5"/>
                        
                        <!-- 8 corner atoms (red) -->
                        <circle cx="85" cy="90" r="10" fill="url(#atomRed2)" stroke="white" stroke-width="1"/>
                        <circle cx="165" cy="60" r="10" fill="url(#atomRed2)" stroke="white" stroke-width="1"/>
                        <circle cx="215" cy="90" r="10" fill="url(#atomRed2)" stroke="white" stroke-width="1"/>
                        <circle cx="215" cy="170" r="10" fill="url(#atomRed2)" stroke="white" stroke-width="1"/>
                        <circle cx="85" cy="150" r="10" fill="url(#atomRed2)" stroke="white" stroke-width="1"/>
                        <circle cx="165" cy="180" r="10" fill="url(#atomRed2)" stroke="white" stroke-width="1"/>
                        <circle cx="85" cy="230" r="10" fill="url(#atomRed2)" stroke="white" stroke-width="1"/>
                        <circle cx="165" cy="200" r="10" fill="url(#atomRed2)" stroke="white" stroke-width="1"/>
                        
                        <!-- 6 face-centered atoms (yellow, larger) -->
                        <!-- Front face center -->
                        <circle cx="150" cy="130" r="14" fill="url(#atomYellow)"/>
                        <!-- Top face center -->
                        <circle cx="125" cy="75" r="14" fill="url(#atomYellow)"/>
                        <!-- Right face center -->
                        <circle cx="190" cy="120" r="14" fill="url(#atomYellow)"/>
                        <!-- Bottom face center -->
                        <circle cx="125" cy="190" r="14" fill="url(#atomYellow)"/>
                        <!-- Left face center -->
                        <circle cx="110" cy="145" r="14" fill="url(#atomYellow)"/>
                        <!-- Back face center (hidden) -->
                        <circle cx="150" cy="110" r="14" fill="url(#atomYellow)" opacity="0.5"/>
                        
                        <text x="150" y="260" font-size="18" font-weight="bold" fill="#c62828" text-anchor="middle">FCC Structure</text>
                        <text x="150" y="280" font-size="13" fill="#666" text-anchor="middle">Face-Centered Cubic</text>
                    </svg>
                    
                    <div style="background: #ffebee; padding: 12px; border-radius: 8px; margin-top: 10px;">
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Atoms/cell:</strong> 4 (8×⅛ + 6×½)</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Packing factor:</strong> 74%</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Max C solubility:</strong> 2.14%</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Temperature:</strong> 912-1394°C</p>
                    </div>
                    
                    <p style="margin-top: 10px;"><strong>Properties:</strong> Can dissolve more carbon, non-magnetic</p>
                    <p><strong>Important:</strong> Key phase for heat treatment!</p>
                </div>

                <div class="card">
                    <h4><span class="number-badge">3</span>Cementite (Fe₃C)</h4>
                    
                    <!-- CORRECTED Orthorhombic Structure -->
                    <svg viewBox="0 0 300 300" style="width: 100%; height: 240px; margin: 15px 0;">
                        <defs>
                            <radialGradient id="feAtom" cx="30%" cy="30%">
                                <stop offset="0%" style="stop-color:#bdbdbd;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#616161;stop-opacity:1" />
                            </radialGradient>
                            <radialGradient id="cAtom" cx="30%" cy="30%">
                                <stop offset="0%" style="stop-color:#e57373;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#d32f2f;stop-opacity:1" />
                            </radialGradient>
                        </defs>
                        
                        <!-- Orthorhombic unit cell (a ≠ b ≠ c, all 90°) -->
                        <!-- Back face (lighter) -->
                        <rect x="60" y="50" width="180" height="100" fill="none" stroke="#9e9e9e" stroke-width="2" opacity="0.3"/>
                        
                        <!-- Connecting lines -->
                        <line x1="60" y1="50" x2="75" y2="70" stroke="#616161" stroke-width="2.5"/>
                        <line x1="240" y1="50" x2="255" y2="70" stroke="#616161" stroke-width="2.5"/>
                        <line x1="240" y1="150" x2="255" y2="170" stroke="#616161" stroke-width="2.5"/>
                        <line x1="60" y1="150" x2="75" y2="170" stroke="#616161" stroke-width="2.5"/>
                        
                        <!-- Front face (darker) -->
                        <rect x="75" y="70" width="180" height="100" fill="none" stroke="#424242" stroke-width="4"/>
                        
                        <!-- Fe atoms at corners and edges (gray, 12 total) -->
                        <circle cx="95" cy="90" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        <circle cx="235" cy="90" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        <circle cx="95" cy="150" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        <circle cx="235" cy="150" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        
                        <circle cx="165" cy="80" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        <circle cx="165" cy="160" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        
                        <circle cx="115" cy="120" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        <circle cx="215" cy="120" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        
                        <circle cx="95" cy="120" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        <circle cx="235" cy="120" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        <circle cx="165" cy="90" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        <circle cx="165" cy="150" r="10" fill="url(#feAtom)" stroke="white" stroke-width="1"/>
                        
                        <!-- C atoms (smaller, red, 4 total - ratio 3:1) -->
                        <circle cx="135" cy="105" r="8" fill="url(#cAtom)"/>
                        <circle cx="195" cy="105" r="8" fill="url(#cAtom)"/>
                        <circle cx="135" cy="135" r="8" fill="url(#cAtom)"/>
                        <circle cx="195" cy="135" r="8" fill="url(#cAtom)"/>
                        
                        <!-- Labels -->
                        <text x="165" y="124" font-size="8" font-weight="bold" fill="white" text-anchor="middle">Fe</text>
                        <text x="135" y="109" font-size="7" font-weight="bold" fill="white" text-anchor="middle">C</text>
                        
                        <text x="165" y="200" font-size="18" font-weight="bold" fill="#424242" text-anchor="middle">Orthorhombic</text>
                        <text x="165" y="220" font-size="14" fill="#666" text-anchor="middle">Fe₃C Structure</text>
                        <text x="165" y="238" font-size="12" fill="#666" text-anchor="middle">(3 Fe atoms : 1 C atom)</text>
                    </svg>
                    
                    <div style="background: #f5f5f5; padding: 12px; border-radius: 8px; margin-top: 10px; border: 2px solid #757575;">
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Formula:</strong> Fe₃C (3:1 ratio)</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Carbon content:</strong> 6.67 wt%</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Hardness:</strong> ~800 HV</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Crystal:</strong> Orthorhombic</p>
                    </div>
                    
                    <p style="margin-top: 10px;"><strong>Properties:</strong> Extremely hard, very brittle</p>
                    <p><strong>Note:</strong> Metastable compound (can decompose to Fe + C)</p>
                </div>

                <div class="card">
                    <h4><span class="number-badge">4</span>Pearlite</h4>
                    
                    <!-- Corrected Lamellar structure -->
                    <svg viewBox="0 0 300 300" style="width: 100%; height: 240px; margin: 15px 0;">
                        <defs>
                            <linearGradient id="ferriteL" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#e3f2fd;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#90caf9;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="cementiteL" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#757575;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#424242;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        
                        <g transform="translate(40, 30)">
                            <!-- Alternating layers with proper spacing -->
                            <!-- Layer 1 - Ferrite (thick) -->
                            <rect x="0" y="0" width="160" height="20" fill="url(#ferriteL)"/>
                            <path d="M 160 0 L 180 10 L 180 30 L 160 20 Z" fill="#64b5f6" opacity="0.7"/>
                            <text x="190" y="13" font-size="11" fill="#1976d2" font-weight="600">Ferrite</text>
                            
                            <!-- Layer 2 - Cementite (thin) -->
                            <rect x="0" y="20" width="160" height="8" fill="url(#cementiteL)"/>
                            <path d="M 160 20 L 180 30 L 180 38 L 160 28 Z" fill="#616161" opacity="0.8"/>
                            <text x="190" y="35" font-size="10" fill="#424242" font-weight="600">Fe₃C</text>
                            
                            <!-- Layer 3 - Ferrite (thick) -->
                            <rect x="0" y="28" width="160" height="20" fill="url(#ferriteL)"/>
                            <path d="M 160 28 L 180 38 L 180 58 L 160 48 Z" fill="#64b5f6" opacity="0.7"/>
                            <text x="190" y="51" font-size="11" fill="#1976d2" font-weight="600">Ferrite</text>
                            
                            <!-- Layer 4 - Cementite (thin) -->
                            <rect x="0" y="48" width="160" height="8" fill="url(#cementiteL)"/>
                            <path d="M 160 48 L 180 58 L 180 66 L 160 56 Z" fill="#616161" opacity="0.8"/>
                            <text x="190" y="63" font-size="10" fill="#424242" font-weight="600">Fe₃C</text>
                            
                            <!-- Layer 5 - Ferrite (thick) -->
                            <rect x="0" y="56" width="160" height="20" fill="url(#ferriteL)"/>
                            <path d="M 160 56 L 180 66 L 180 86 L 160 76 Z" fill="#64b5f6" opacity="0.7"/>
                            <text x="190" y="79" font-size="11" fill="#1976d2" font-weight="600">Ferrite</text>
                            
                            <!-- Layer 6 - Cementite (thin) -->
                            <rect x="0" y="76" width="160" height="8" fill="url(#cementiteL)"/>
                            <path d="M 160 76 L 180 86 L 180 94 L 160 84 Z" fill="#616161" opacity="0.8"/>
                            <text x="190" y="91" font-size="10" fill="#424242" font-weight="600">Fe₃C</text>
                            
                            <!-- Layer 7 - Ferrite (thick) -->
                            <rect x="0" y="84" width="160" height="20" fill="url(#ferriteL)"/>
                            <path d="M 160 84 L 180 94 L 180 114 L 160 104 Z" fill="#64b5f6" opacity="0.7"/>
                            
                            <!-- Left depth edge -->
                            <path d="M 0 0 L 20 10 L 20 114 L 0 104 Z" fill="#1976d2" opacity="0.35"/>
                            
                            <!-- Spacing measurement -->
                            <line x1="-20" y1="20" x2="-20" y2="84" stroke="#f57c00" stroke-width="2.5"/>
                            <line x1="-23" y1="20" x2="-17" y2="20" stroke="#f57c00" stroke-width="2.5"/>
                            <line x1="-23" y1="84" x2="-17" y2="84" stroke="#f57c00" stroke-width="2.5"/>
                            <text x="-35" y="56" font-size="10" fill="#f57c00" font-weight="700" transform="rotate(-90 -35 56)">~0.5 μm</text>
                        </g>
                        
                        <text x="150" y="190" font-size="18" font-weight="bold" fill="#f57c00" text-anchor="middle">Lamellar Structure</text>
                        <text x="150" y="210" font-size="13" fill="#666" text-anchor="middle">Alternating Fe + Fe₃C Layers</text>
                    </svg>
                    
                    <div style="background: #fff3e0; padding: 12px; border-radius: 8px; margin-top: 10px; border-left: 4px solid #f57c00;">
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Composition:</strong> 88% Ferrite + 12% Fe₃C</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Forms at:</strong> 727°C (eutectoid)</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Hardness:</strong> ~200 HV</p>
                        <p style="font-size: 1em; margin: 5px 0;"><strong>Layer spacing:</strong> 0.5-1 μm</p>
                    </div>
                    
                    <p style="margin-top: 10px;"><strong>What it is:</strong> Eutectoid mixture of ferrite + cementite</p>
                    <p><strong>Properties:</strong> Good balance of strength and ductility</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>The Most Important Point: Eutectoid</h2>

            <div class="simple-box" style="border-left-color: var(--primary-dark); background: var(--primary); color: white;">
                <h3 style="color: white; margin-top: 0;">The Magic Spot: 0.76% Carbon at 727°C</h3>
                <p style="color: white; font-size: 1.2em;">This is THE most important point in steel making!</p>
            </div>

            <h3>What happens here?</h3>
            <div class="reaction-box">
                γ (Austenite) → α (Ferrite) + Fe₃C (Cementite) = Pearlite
                <small>When you cool through 727°C, austenite transforms into pearlite</small>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Steel Type</th>
                        <th>Carbon Content</th>
                        <th>Microstructure</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Hypoeutectoid</strong></td>
                        <td>&lt; 0.76% C</td>
                        <td>Ferrite + Pearlite</td>
                    </tr>
                    <tr>
                        <td><strong>Eutectoid</strong></td>
                        <td>= 0.76% C</td>
                        <td>100% Pearlite</td>
                    </tr>
                    <tr>
                        <td><strong>Hypereutectoid</strong></td>
                        <td>&gt; 0.76% C (up to 2.14%)</td>
                        <td>Cementite + Pearlite</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>Steel vs Cast Iron</h2>

            <p>The vertical line at <span class="highlight">2.14% Carbon</span> divides the diagram:</p>

            <div class="card-grid">
                <div class="card">
                    <h4>STEEL (0 - 2.14% C)</h4>
                    <p><strong>Workability:</strong> Can be forged, rolled, drawn</p>
                    <p><strong>Weldability:</strong> Excellent</p>
                    <p><strong>Properties:</strong> Ductile, tough</p>
                    <p><strong>Uses:</strong> Construction, automotive, tools</p>
                </div>

                <div class="card">
                    <h4>CAST IRON (2.14 - 6.67% C)</h4>
                    <p><strong>Workability:</strong> Must be cast (poured into molds)</p>
                    <p><strong>Weldability:</strong> Poor to difficult</p>
                    <p><strong>Properties:</strong> Hard, brittle</p>
                    <p><strong>Uses:</strong> Engine blocks, pipes, machine bases</p>
                </div>
            </div>
        </div>

        <div class="section" style="background: var(--primary); color: white;">
            <h2 style="color: white; border-bottom-color: white;">Key Takeaways</h2>
            
            <ul style="font-size: 1.2em;">
                <li style="color: white;">Phase diagram shows iron structure at different T and %C</li>
                <li style="color: white;">Eutectoid point (0.76%C, 727°C) is critical for heat treatment</li>
                <li style="color: white;">2.14% carbon separates steel from cast iron</li>
                <li style="color: white;">BCC ferrite holds little C; FCC austenite holds up to 2.14%C</li>
                <li style="color: white;">Pearlite = lamellar mixture of ferrite + cementite</li>
            </ul>
        </div>

        <footer>
            <p>Corrected Iron-Carbon Phase Diagram • All structures and boundaries verified</p>
        </footer>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        const tooltip = document.getElementById('tooltip');
        const phaseAreas = document.querySelectorAll('.phase-area');

        phaseAreas.forEach(area => {
            area.addEventListener('mouseenter', function(e) {
                tooltip.textContent = 'Phase region';
                tooltip.style.opacity = '1';
            });

            area.addEventListener('mousemove', function(e) {
                tooltip.style.left = (e.pageX + 15) + 'px';
                tooltip.style.top = (e.pageY + 15) + 'px';
            });

            area.addEventListener('mouseleave', function() {
                tooltip.style.opacity = '0';
            });
        });

        const sections = document.querySelectorAll('.section');
        
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            observer.observe(section);
        });

        console.log('✅ Corrected Iron-Carbon Phase Diagram loaded');
    </script>
</body>
</html>
